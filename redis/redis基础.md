> ### redis集群
> 1.1 客户端分区方案
    
    客户端就已经决定数据会被存储到哪个redis节点或者从哪个redis节点读取数据。其主要思想是采用哈希算法将Redis数据的key进行散列，通过hash函数，特定的key会映射到特定的Redis节点上。
    
    缺点：客户端无法动态增删服务节点

> 1.2 代理分区方案

    客户端发送请求到一个代理节点，代理解析客户端的数据，并将请求转发至正确的节点，最后将结果回复给客户端。

    客户端接入透明，可以随意增删服务节点，多了一层代理，性能有损耗


> 1.3 查询路由方案

    客户端随机地请求任意一个Redis实例，然后由Redis将请求转发给正确的Redis节点。Redis Cluster实现了一种混合形式的查询路由，但并不是直接将请求从一个 Redis节点转发到另一个Redis节点，而是在客户端的帮助下直接重定向（ redirected）到正确的Redis节点。客户端会缓存某个slot对应的节点，实际无损耗。

    支持平滑扩容

> 1.4 redis数据分槽（slot）
    采用虚拟槽分区（2^14），每个节点维护一些槽内的数据。（此处涉及一致性哈希算法，主要解决集群节点增加或减少时大批量数据需要重新哈希的问题，一致性哈希将hash值对2^32取模，节点均匀分布在hash环上，数据落在顺时针第一个节点上，数据倾斜问题用多个虚拟节点解决）

> ### redis数据类型

> 1.1 redis数据类型



> ### redis哨兵

> 1.1 功能：主节点存活检测，主从运行检测，自动故障转移，主从切换

缓存雪崩 同一时间大量key缓存到期，对这批key的请求就打到数据库上了，过期时间加随机值。
缓存穿透 不存在的key，一直访问数据库，对不存在的key缓存空值并给一个较小的过期时间。
缓存击穿 热点key失效时大量请求打到数据库上，key设置永不过期，定时更新。

